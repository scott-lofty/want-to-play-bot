import { __assign } from "tslib";
import packageInfo from "./package.json";
import { Sha256 } from "@aws-crypto/sha256-browser";
import { FetchHttpHandler, streamCollector } from "@aws-sdk/fetch-http-handler";
import { invalidProvider } from "@aws-sdk/invalid-dependency";
import { DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_MODE } from "@aws-sdk/middleware-retry";
import { fromBase64, toBase64 } from "@aws-sdk/util-base64-browser";
import { calculateBodyLength } from "@aws-sdk/util-body-length-browser";
import { defaultUserAgent } from "@aws-sdk/util-user-agent-browser";
import { fromUtf8, toUtf8 } from "@aws-sdk/util-utf8-browser";
import { getRuntimeConfig as getSharedRuntimeConfig } from "./runtimeConfig.shared";
/**
 * @internal
 */
export var getRuntimeConfig = function (config) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;
    if (config === void 0) { config = {}; }
    var clientSharedValues = getSharedRuntimeConfig(config);
    return __assign(__assign(__assign({}, clientSharedValues), config), { runtime: "browser", base64Decoder: (_a = config.base64Decoder) !== null && _a !== void 0 ? _a : fromBase64, base64Encoder: (_b = config.base64Encoder) !== null && _b !== void 0 ? _b : toBase64, bodyLengthChecker: (_c = config.bodyLengthChecker) !== null && _c !== void 0 ? _c : calculateBodyLength, credentialDefaultProvider: (_d = config.credentialDefaultProvider) !== null && _d !== void 0 ? _d : (function (_) { return function () { return Promise.reject(new Error("Credential is missing")); }; }), defaultUserAgentProvider: (_e = config.defaultUserAgentProvider) !== null && _e !== void 0 ? _e : defaultUserAgent({ serviceId: clientSharedValues.serviceId, clientVersion: packageInfo.version }), endpointDiscoveryEnabledProvider: (_f = config.endpointDiscoveryEnabledProvider) !== null && _f !== void 0 ? _f : (function () { return Promise.resolve(undefined); }), maxAttempts: (_g = config.maxAttempts) !== null && _g !== void 0 ? _g : DEFAULT_MAX_ATTEMPTS, region: (_h = config.region) !== null && _h !== void 0 ? _h : invalidProvider("Region is missing"), requestHandler: (_j = config.requestHandler) !== null && _j !== void 0 ? _j : new FetchHttpHandler(), retryModeProvider: (_k = config.retryModeProvider) !== null && _k !== void 0 ? _k : (function () { return Promise.resolve(DEFAULT_RETRY_MODE); }), sha256: (_l = config.sha256) !== null && _l !== void 0 ? _l : Sha256, streamCollector: (_m = config.streamCollector) !== null && _m !== void 0 ? _m : streamCollector, utf8Decoder: (_o = config.utf8Decoder) !== null && _o !== void 0 ? _o : fromUtf8, utf8Encoder: (_p = config.utf8Encoder) !== null && _p !== void 0 ? _p : toUtf8 });
};
//# sourceMappingURL=runtimeConfig.browser.js.map