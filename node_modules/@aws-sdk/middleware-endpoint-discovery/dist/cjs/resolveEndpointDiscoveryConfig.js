"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveEndpointDiscoveryConfig = void 0;
const endpoint_cache_1 = require("@aws-sdk/endpoint-cache");
const resolveEndpointDiscoveryConfig = (input, { endpointDiscoveryCommandCtor }) => {
    var _a;
    return ({
        ...input,
        endpointDiscoveryCommandCtor,
        endpointCache: new endpoint_cache_1.EndpointCache((_a = input.endpointCacheSize) !== null && _a !== void 0 ? _a : 1000),
        endpointDiscoveryEnabled: input.endpointDiscoveryEnabled !== undefined
            ? () => Promise.resolve(input.endpointDiscoveryEnabled)
            : input.endpointDiscoveryEnabledProvider,
        isClientEndpointDiscoveryEnabled: input.endpointDiscoveryEnabled !== undefined,
    });
};
exports.resolveEndpointDiscoveryConfig = resolveEndpointDiscoveryConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZUVuZHBvaW50RGlzY292ZXJ5Q29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jlc29sdmVFbmRwb2ludERpc2NvdmVyeUNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw0REFBd0Q7QUE0RGpELE1BQU0sOEJBQThCLEdBQUcsQ0FDNUMsS0FBNEQsRUFDNUQsRUFBRSw0QkFBNEIsRUFBa0MsRUFDM0IsRUFBRTs7SUFBQyxPQUFBLENBQUM7UUFDekMsR0FBRyxLQUFLO1FBQ1IsNEJBQTRCO1FBQzVCLGFBQWEsRUFBRSxJQUFJLDhCQUFhLENBQUMsTUFBQSxLQUFLLENBQUMsaUJBQWlCLG1DQUFJLElBQUksQ0FBQztRQUNqRSx3QkFBd0IsRUFDdEIsS0FBSyxDQUFDLHdCQUF3QixLQUFLLFNBQVM7WUFDMUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLHdCQUF3QixDQUFDO1lBQ3ZELENBQUMsQ0FBQyxLQUFLLENBQUMsZ0NBQWdDO1FBQzVDLGdDQUFnQyxFQUFFLEtBQUssQ0FBQyx3QkFBd0IsS0FBSyxTQUFTO0tBQy9FLENBQUMsQ0FBQTtDQUFBLENBQUM7QUFaVSxRQUFBLDhCQUE4QixrQ0FZeEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmRwb2ludENhY2hlIH0gZnJvbSBcIkBhd3Mtc2RrL2VuZHBvaW50LWNhY2hlXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFscywgUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludERpc2NvdmVyeUlucHV0Q29uZmlnIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHtcbiAgaXNDdXN0b21FbmRwb2ludDogYm9vbGVhbjtcbiAgY3JlZGVudGlhbHM6IFByb3ZpZGVyPENyZWRlbnRpYWxzPjtcbiAgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkUHJvdmlkZXI6IFByb3ZpZGVyPGJvb2xlYW4gfCB1bmRlZmluZWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZHBvaW50RGlzY292ZXJ5SW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGNsaWVudCBjYWNoZSBzdG9yaW5nIGVuZHBvaW50cyBmcm9tIGVuZHBvaW50IGRpc2NvdmVyeSBvcGVyYXRpb25zLlxuICAgKiBEZWZhdWx0cyB0byAxMDAwLlxuICAgKi9cbiAgZW5kcG9pbnRDYWNoZVNpemU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gY2FsbCBvcGVyYXRpb25zIHdpdGggZW5kcG9pbnRzIGdpdmVuIGJ5IHNlcnZpY2UgZHluYW1pY2FsbHkuXG4gICAqIFNldHRpbmcgdGhpcyBjb25maWcgdG8gYHRydWVgIHdpbGwgZW5hYmxlIGVuZHBvaW50IGRpc2NvdmVyeSBmb3IgYWxsIGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICogU2V0dGluZyBpdCB0byBgZmFsc2VgIHdpbGwgZXhwbGljaXRseSBkaXNhYmxlIGVuZHBvaW50IGRpc2NvdmVyeSBldmVuIHRob3VnaCBvcGVyYXRpb25zIHRoYXRcbiAgICogcmVxdWlyZSBlbmRwb2ludCBkaXNjb3Zlcnkgd2lsbCBwcmVzdW1hYmx5IGZhaWwuIExlYXZpbmcgaXQgdG8gdW5kZWZpbmVkIG1lYW5zIFNESyBvbmx5IGRvXG4gICAqIGVuZHBvaW50IGRpc2NvdmVyeSB3aGVuIGl0J3MgcmVxdWlyZWQuIERlZmF1bHRzIHRvIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRW5kcG9pbnREaXNjb3ZlcnlSZXNvbHZlZENvbmZpZyB7XG4gIC8qKlxuICAgKiBMUlUgQ2FjaGUgd2hpY2ggc3RvcmVzIGVuZHBvaW50cyBmcm9tIGVuZHBvaW50IGRpc2NvdmVyeSBvcGVyYXRpb25zLlxuICAgKiBUaGUgc2l6ZSBpcyBlaXRoZXIgcHJvdmlkZWQgYnkge0BsaW5rIEVuZHBvaW50RGlzY292ZXJ5SW5wdXRDb25maWcuZW5kcG9pbnRDYWNoZVNpemV9LlxuICAgKi9cbiAgZW5kcG9pbnRDYWNoZTogRW5kcG9pbnRDYWNoZTtcblxuICAvKipcbiAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBDb21tYW5kIHVzZWQgZm9yIGRpc2NvdmVyaW5nIGVuZHBvaW50cy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbmRwb2ludERpc2NvdmVyeUNvbW1hbmRDdG9yOiBuZXcgKGNvbWFuZENvbmZpZzogYW55KSA9PiBhbnk7XG5cbiAgLyoqXG4gICAqIFJlc29sdmVkIHZhbHVlIGZvciBpbnB1dCBjb25maWcge0BsaW5rIEVuZHBvaW50RGlzY292ZXJ5SW5wdXRDb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkfS5cbiAgICovXG4gIGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDogUHJvdmlkZXI8Ym9vbGVhbiB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFN0b3JlcyB3aGV0aGVyIGVuZHBvaW50IGRpc2NvdmVyeSBjb25maWd1cmF0aW9uIGlzIHNldCBsb2NhbGx5IGJ5IHBhc3NpbmdcbiAgICoge0BsaW5rIEVuZHBvaW50RGlzY292ZXJ5SW5wdXRDb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkfSBkdXJpbmcgY2xpZW50IGNyZWF0aW9uLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGlzQ2xpZW50RW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZHBvaW50RGlzY292ZXJ5Q29uZmlnT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIENvbW1hbmQgdXNlZCBmb3IgZGlzY292ZXJpbmcgZW5kcG9pbnRzLlxuICAgKi9cbiAgZW5kcG9pbnREaXNjb3ZlcnlDb21tYW5kQ3RvcjogbmV3IChjb21hbmRDb25maWc6IGFueSkgPT4gYW55O1xufVxuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUVuZHBvaW50RGlzY292ZXJ5Q29uZmlnID0gPFQ+KFxuICBpbnB1dDogVCAmIFByZXZpb3VzbHlSZXNvbHZlZCAmIEVuZHBvaW50RGlzY292ZXJ5SW5wdXRDb25maWcsXG4gIHsgZW5kcG9pbnREaXNjb3ZlcnlDb21tYW5kQ3RvciB9OiBFbmRwb2ludERpc2NvdmVyeUNvbmZpZ09wdGlvbnNcbik6IFQgJiBFbmRwb2ludERpc2NvdmVyeVJlc29sdmVkQ29uZmlnID0+ICh7XG4gIC4uLmlucHV0LFxuICBlbmRwb2ludERpc2NvdmVyeUNvbW1hbmRDdG9yLFxuICBlbmRwb2ludENhY2hlOiBuZXcgRW5kcG9pbnRDYWNoZShpbnB1dC5lbmRwb2ludENhY2hlU2l6ZSA/PyAxMDAwKSxcbiAgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkOlxuICAgIGlucHV0LmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZCAhPT0gdW5kZWZpbmVkXG4gICAgICA/ICgpID0+IFByb21pc2UucmVzb2x2ZShpbnB1dC5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQpXG4gICAgICA6IGlucHV0LmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZFByb3ZpZGVyLFxuICBpc0NsaWVudEVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDogaW5wdXQuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkICE9PSB1bmRlZmluZWQsXG59KTtcbiJdfQ==